import{S as b,i as O}from"./assets/vendor-1a704259.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function l(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function e(s){if(s.ep)return;s.ep=!0;const t=l(s);fetch(s.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{new b("#productsSwiper",{direction:"horizontal",loop:!0,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:3,spaceBetween:18},1200:{slidesPerView:4,spaceBetween:18}}})});document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".review-list");fetch("/simple-chocolate-redesign/data/reviews.json").then(n=>{if(!n.ok)throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON");return n.json()}).then(n=>{n.forEach(l=>{const e=document.createElement("li");e.className="review-list-item swiper-slide",e.innerHTML=`
            <div class="review-item-thumb">
              <img
                class="reviewers-photo"
                src="${l.photo}"
                alt="User's photo"
                width="80"
              />
              <div class="review-card-thumb">
                <p class="reviewers-name">${l.name}</p>
                <p class="review-text">${l.text}</p>
              </div>
            </div>
          `,o.appendChild(e)}),typeof b<"u"&&new b("#reviewsSwiper",{direction:"horizontal",loop:!0,pagination:{el:".reviews-swiper-pagination",clickable:!0,bulletClass:"reviews-swiper-pagination-bullet",bulletActiveClass:"reviews-swiper-pagination-bullet-active"},breakpoints:{320:{centeredSlides:!0,slidesPerView:1,spaceBetween:20},768:{centeredSlides:!1,slidesPerView:2,spaceBetween:16},1200:{slidesPerView:3,centeredSlides:!1,spaceBetween:28}}})}).catch(n=>{console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∑—ã–≤—ã:",n)})});const v={openMenuBtn:document.querySelector("[data-menu-open]"),mobMenu:document.querySelector("[data-menu]"),mobMenuLinks:document.querySelector(".mobile-menu-nav-links-container")};v.openMenuBtn.addEventListener("click",q);v.mobMenu.addEventListener("click",C);function q(){v.mobMenu.classList.add("is-open"),document.body.style.overflow="hidden"}function C(o){o.target.hasAttribute("data-menu-close")&&(v.mobMenu.classList.remove("is-open"),document.body.style.overflow="")}const D="modulepreload",M=function(o){return"/simple-chocolate-redesign/"+o},S={},P=function(n,l,e){if(!l||l.length===0)return n();const s=document.getElementsByTagName("link");return Promise.all(l.map(t=>{if(t=M(t),t in S)return;S[t]=!0;const a=t.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!e)for(let u=s.length-1;u>=0;u--){const r=s[u];if(r.href===t&&(!a||r.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${c}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":D,a||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),a)return new Promise((u,r)=>{i.addEventListener("load",u),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>n()).catch(t=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=t,window.dispatchEvent(a),!a.defaultPrevented)throw t})},y=new Map,k=document.querySelectorAll(".phone-input");k.forEach(o=>{const n=O(o,{initialCountry:"ua",loadUtils:()=>P(()=>import("./assets/vendor-1a704259.js").then(l=>l.u),["assets/vendor-1a704259.js","assets/vendor-fef9b9da.css"]),onlyCountries:["al","at","be","bg","hr","cz","dk","ee","fi","fr","de","gr","va","hu","is","ie","it","lv","li","lt","lu","md","nl","no","pl","pt","ro","rs","sk","si","es","se","ch","ua","gb"],separateDialCode:!0,useFullscreenPopup:!1,countrySearch:!1,strictMode:!0,placeholderNumberType:"MOBILE"});y.set(o,n)});function w(o){var l;const n=y.get(o);return((l=n==null?void 0:n.isValidNumber)==null?void 0:l.call(n))||!1}function E(o){var l,e;const n=y.get(o);return{number:(n==null?void 0:n.getNumber())||o.value.trim(),countryIso:((e=(l=n==null?void 0:n.getSelectedCountryData())==null?void 0:l.iso2)==null?void 0:e.toUpperCase())||""}}document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector("[data-review-form]");if(!o)return;const n=o.querySelector(".send-btn"),l="review-form-data",e={name:o.querySelector('input[name="customer-name"]'),email:o.querySelector('input[name="customer-email"]'),phone:o.querySelector('input[name="customer-phone-num"]'),message:o.querySelector('textarea[name="customer-comment"]')},s=JSON.parse(localStorage.getItem(l));s&&(s.name&&(e.name.value=s.name),s.email&&(e.email.value=s.email),s.phone&&(e.phone.value=s.phone),s.message&&(e.message.value=s.message));const t={name:i=>/^[a-zA-Z–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ]{3,}$/u.test(i.trim()),email:i=>/^\S+@\S+\.\S+$/.test(i.trim()),phone:()=>w(e.phone),message:i=>i.trim().length>=5&&i.trim().length<=300};function a(i){const u=e[i],r=i==="phone"?t.phone():t[i](u.value);u.style.borderColor=r?"green":"red"}function c(){const i=Object.keys(e).every(u=>u==="phone"?t[u]():t[u](e[u].value));n.disabled=!i}function p(){const i={name:e.name.value.trim(),email:e.email.value.trim(),phone:e.phone.value.trim(),message:e.message.value.trim()};localStorage.setItem(l,JSON.stringify(i))}Object.keys(e).forEach(i=>{e[i].addEventListener("blur",()=>{a(i),c()}),e[i].addEventListener("input",()=>{c(),p()})}),o.addEventListener("submit",i=>{if(i.preventDefault(),n.disabled)return;const{number:u,countryIso:r}=E(e.phone),m={name:e.name.value.trim(),email:e.email.value.trim(),phone:u,phone_country_iso:r,message:e.message.value.trim()};console.log("üü¢ –û—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:",m),o.reset(),localStorage.removeItem(l),Object.values(e).forEach(d=>{d.style.borderColor=""}),c()})});[{open:"[data-modal-buy-open]",close:"[data-modal-buy-close]",modal:"[data-modal-buy-now]"},{open:"[data-modal-review-open]",close:"[data-modal-review-close]",modal:"[data-modal-review]"},{open:"[data-modal-subscribe-open]",close:"[data-modal-subscribe-close]",modal:"[data-modal-subscribe]"}].forEach(({open:n,close:l,modal:e})=>{const s=document.querySelectorAll(n),t=document.querySelector(l),a=document.querySelector(e);if(!a)return;const c=()=>{a.classList.toggle("modal-is-open"),document.body.classList.toggle("no-scroll")};s.forEach(p=>p.addEventListener("click",c)),t==null||t.addEventListener("click",c),a.addEventListener("click",p=>{p.target===a&&c()}),document.addEventListener("keydown",p=>{p.key==="Escape"&&a.classList.contains("modal-is-open")&&c()})});document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".modal-buy-form");if(!o)return;const n=o.querySelector(".submit-btn"),l="modal-buy-data",e={name:o.querySelector('input[name="customer-name"]'),surname:o.querySelector('input[name="customer-surname"]'),email:o.querySelector('input[name="customer-email"]'),phone:o.querySelector('input[name="customer-phone-num"]'),comment:o.querySelector('textarea[name="customer-comment"]')},s=document.querySelectorAll(".modal-products-list-item");let t=null;const a=JSON.parse(localStorage.getItem(l));a&&(Object.keys(e).forEach(r=>{a[r]&&(e[r].value=a[r])}),a.product&&s.forEach(r=>{var d;const m=(d=r.querySelector(".modal-buy-price"))==null?void 0:d.textContent.trim();m===a.product&&(r.classList.add("selected"),t=m)}),i()),s.forEach(r=>{r.addEventListener("click",()=>{var m;s.forEach(d=>d.classList.remove("selected")),r.classList.add("selected"),t=((m=r.querySelector(".modal-buy-price"))==null?void 0:m.textContent.trim())||"",u(),i()})});const c={name:r=>/^[a-zA-Z–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ]{3,}$/u.test(r.trim()),surname:r=>/^[a-zA-Z–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ]{3,}$/u.test(r.trim()),email:r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim()),phone:()=>w(e.phone),comment:r=>r.trim().length>=3&&r.trim().length<=100};function p(r){const m=e[r],d=c[r](m.value);m.style.borderColor=d?"green":"red"}Object.keys(e).forEach(r=>{e[r].addEventListener("blur",()=>{p(r),i()}),e[r].addEventListener("input",()=>{i(),u()})});function i(){const r=Object.keys(e).every(d=>d==="phone"?c[d]():c[d](e[d].value)),m=!!t;n.disabled=!(r&&m)}function u(){const r={product:t,name:e.name.value.trim(),surname:e.surname.value.trim(),email:e.email.value.trim(),phone:e.phone.value.trim(),comment:e.comment.value.trim()};localStorage.setItem(l,JSON.stringify(r))}o.addEventListener("submit",async r=>{if(r.preventDefault(),n.disabled)return;const{number:m,countryIso:d}=E(e.phone),L={product:t,name:e.name.value.trim(),surname:e.surname.value.trim(),email:e.email.value.trim(),phone:m,phone_country_iso:d,comment:e.comment.value.trim()};try{const f=await fetch("https://formspree.io/f/mdkgjrqy",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(L)}),g=await f.json();f.ok?(console.log("üü¢ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",g),alert("–°–ø–∞—Å–∏–±–æ! –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞."),o.reset(),t=null,s.forEach(h=>h.classList.remove("selected")),Object.values(e).forEach(h=>{h.style.borderColor=""}),localStorage.removeItem(l),i()):(console.error("üî¥ –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:",g),alert("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."))}catch(f){console.error("üî¥ –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞:",f),alert("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.")}})});document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".ingredients-list"),n=document.querySelectorAll(".ingredients-card"),l=new IntersectionObserver((e,s)=>{e.forEach(t=>{t.isIntersecting&&(n.forEach((a,c)=>{(c===0||c===2)&&setTimeout(()=>{a.classList.add("animate-hint"),setTimeout(()=>{a.classList.remove("animate-hint")},800)},c*100)}),s.unobserve(t.target))})},{threshold:.3});o&&l.observe(o)});(()=>{const o=document.querySelector(".made-video"),n=o.querySelector(".video-link"),l=o.querySelector(".video-btn"),e="DISjdfkSjc8";function s(a){const c=document.createElement("iframe");return c.setAttribute("allowfullscreen",""),c.setAttribute("allow","autoplay"),c.setAttribute("src",`https://www.youtube.com/embed/${a}?rel=0&showinfo=0&autoplay=1`),c.classList.add("video-media"),c.style.border="none",c.style.borderRadius="15px",c}function t(){const a=s(e);n.remove(),l.remove(),o.appendChild(a)}n.addEventListener("click",a=>{a.preventDefault(),t()}),l.addEventListener("click",t)})();
//# sourceMappingURL=commonHelpers.js.map
