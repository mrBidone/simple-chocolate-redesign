import{S as y,i as q,e as w}from"./assets/vendor-7c9200d3.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function l(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function e(s){if(s.ep)return;s.ep=!0;const t=l(s);fetch(s.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{new y("#productsSwiper",{direction:"horizontal",loop:!0,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:3,spaceBetween:18},1200:{slidesPerView:4,spaceBetween:18}}})});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".review-list");fetch("/simple-chocolate-redesign/data/reviews.json").then(o=>{if(!o.ok)throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON");return o.json()}).then(o=>{o.forEach(l=>{const e=document.createElement("li");e.className="review-list-item swiper-slide",e.innerHTML=`
            <div class="review-item-thumb">
              <img
                class="reviewers-photo"
                src="${l.photo}"
                alt="User's photo"
                width="80"
              />
              <div class="review-card-thumb">
                <p class="reviewers-name">${l.name}</p>
                <p class="review-text">${l.text}</p>
              </div>
            </div>
          `,n.appendChild(e)}),typeof y<"u"&&new y("#reviewsSwiper",{direction:"horizontal",loop:!0,pagination:{el:".reviews-swiper-pagination",clickable:!0,bulletClass:"reviews-swiper-pagination-bullet",bulletActiveClass:"reviews-swiper-pagination-bullet-active"},breakpoints:{320:{centeredSlides:!0,slidesPerView:1,spaceBetween:20},768:{centeredSlides:!1,slidesPerView:2,spaceBetween:16},1200:{slidesPerView:3,centeredSlides:!1,spaceBetween:28}}})}).catch(o=>{console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∑—ã–≤—ã:",o)})});const h={openMenuBtn:document.querySelector("[data-menu-open]"),mobMenu:document.querySelector("[data-menu]"),mobMenuLinks:document.querySelector(".mobile-menu-nav-links-container")};h.openMenuBtn.addEventListener("click",k);h.mobMenu.addEventListener("click",D);function k(){h.mobMenu.classList.add("is-open"),document.body.style.overflow="hidden"}function D(n){n.target.hasAttribute("data-menu-close")&&(h.mobMenu.classList.remove("is-open"),document.body.style.overflow="")}const M="modulepreload",P=function(n){return"/simple-chocolate-redesign/"+n},E={},A=function(o,l,e){if(!l||l.length===0)return o();const s=document.getElementsByTagName("link");return Promise.all(l.map(t=>{if(t=P(t),t in E)return;E[t]=!0;const a=t.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!e)for(let d=s.length-1;d>=0;d--){const r=s[d];if(r.href===t&&(!a||r.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${c}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":M,a||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),a)return new Promise((d,r)=>{i.addEventListener("load",d),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>o()).catch(t=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=t,window.dispatchEvent(a),!a.defaultPrevented)throw t})},g=new Map,I=document.querySelectorAll(".phone-input");I.forEach(n=>{const o=q(n,{initialCountry:"ua",loadUtils:()=>A(()=>import("./assets/vendor-7c9200d3.js").then(l=>l.u),["assets/vendor-7c9200d3.js","assets/vendor-fef9b9da.css"]),onlyCountries:["al","at","be","bg","hr","cz","dk","ee","fi","fr","de","gr","va","hu","is","ie","it","lv","li","lt","lu","md","nl","no","pl","pt","ro","rs","sk","si","es","se","ch","ua","gb"],separateDialCode:!0,useFullscreenPopup:!1,countrySearch:!1,strictMode:!0,placeholderNumberType:"MOBILE"});g.set(n,o)});function L(n){var l;const o=g.get(n);return((l=o==null?void 0:o.isValidNumber)==null?void 0:l.call(o))||!1}function C(n){var l,e;const o=g.get(n);return{number:(o==null?void 0:o.getNumber())||n.value.trim(),countryIso:((e=(l=o==null?void 0:o.getSelectedCountryData())==null?void 0:l.iso2)==null?void 0:e.toUpperCase())||""}}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector("[data-review-form]");if(!n)return;const o=n.querySelector(".send-btn"),l="review-form-data",e={name:n.querySelector('input[name="customer-name"]'),email:n.querySelector('input[name="customer-email"]'),phone:n.querySelector('input[name="customer-phone-num"]'),message:n.querySelector('textarea[name="customer-comment"]')},s=JSON.parse(localStorage.getItem(l));s&&(s.name&&(e.name.value=s.name),s.email&&(e.email.value=s.email),s.phone&&(e.phone.value=s.phone),s.message&&(e.message.value=s.message));const t={name:i=>/^[a-zA-Z–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ]{3,}$/u.test(i.trim()),email:i=>/^\S+@\S+\.\S+$/.test(i.trim()),phone:()=>L(e.phone),message:i=>i.trim().length>=5&&i.trim().length<=300};function a(i){const d=e[i],r=i==="phone"?t.phone():t[i](d.value);d.style.borderColor=r?"green":"red"}function c(){const i=Object.keys(e).every(d=>d==="phone"?t[d]():t[d](e[d].value));o.disabled=!i}function p(){const i={name:e.name.value.trim(),email:e.email.value.trim(),phone:e.phone.value.trim(),message:e.message.value.trim()};localStorage.setItem(l,JSON.stringify(i))}Object.keys(e).forEach(i=>{e[i].addEventListener("blur",()=>{a(i),c()}),e[i].addEventListener("input",()=>{c(),p()})}),n.addEventListener("submit",i=>{if(i.preventDefault(),o.disabled)return;const{number:d,countryIso:r}=C(e.phone),m={name:e.name.value.trim(),email:e.email.value.trim(),phone:d,phone_country_iso:r,message:e.message.value.trim()};console.log("üü¢ –û—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:",m),n.reset(),localStorage.removeItem(l),Object.values(e).forEach(u=>{u.style.borderColor=""}),c()})});[{open:"[data-modal-buy-open]",close:"[data-modal-buy-close]",modal:"[data-modal-buy-now]"},{open:"[data-modal-review-open]",close:"[data-modal-review-close]",modal:"[data-modal-review]"},{open:"[data-modal-subscribe-open]",close:"[data-modal-subscribe-close]",modal:"[data-modal-subscribe]"}].forEach(({open:o,close:l,modal:e})=>{const s=document.querySelectorAll(o),t=document.querySelector(l),a=document.querySelector(e);if(!a)return;const c=()=>{a.classList.toggle("modal-is-open"),document.body.classList.toggle("no-scroll")};s.forEach(p=>p.addEventListener("click",c)),t==null||t.addEventListener("click",c),a.addEventListener("click",p=>{p.target===a&&c()}),document.addEventListener("keydown",p=>{p.key==="Escape"&&a.classList.contains("modal-is-open")&&c()})});document.addEventListener("DOMContentLoaded",()=>{w.init("YTC30gcSXENvou1mq");const n=document.querySelector(".modal-buy-form");if(!n)return;const o=n.querySelector(".submit-btn"),l="modal-buy-data",e={name:n.querySelector('input[name="customer-name"]'),surname:n.querySelector('input[name="customer-surname"]'),email:n.querySelector('input[name="customer-email"]'),phone:n.querySelector('input[name="customer-phone-num"]'),comment:n.querySelector('textarea[name="customer-comment"]')},s=document.querySelectorAll(".modal-products-list-item");let t=null;const a=JSON.parse(localStorage.getItem(l));a&&(Object.keys(e).forEach(r=>{a[r]&&(e[r].value=a[r])}),a.product&&s.forEach(r=>{var u;const m=(u=r.querySelector(".modal-buy-price"))==null?void 0:u.textContent.trim();m===a.product&&(r.classList.add("selected"),t=m)}),i()),s.forEach(r=>{r.addEventListener("click",()=>{var m;s.forEach(u=>u.classList.remove("selected")),r.classList.add("selected"),t=((m=r.querySelector(".modal-buy-price"))==null?void 0:m.textContent.trim())||"",d(),i()})});const c={name:r=>/^[a-zA-Z–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ]{3,}$/u.test(r.trim()),surname:r=>/^[a-zA-Z–∞-—è–ê-–Ø—ë–Å—ñ–Ü—ó–á—î–Ñ]{3,}$/u.test(r.trim()),email:r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim()),phone:()=>L(e.phone),comment:r=>r.trim().length>=3&&r.trim().length<=100};function p(r){const m=e[r],u=c[r](m.value);m.style.borderColor=u?"green":"red"}Object.keys(e).forEach(r=>{e[r].addEventListener("blur",()=>{p(r),i()}),e[r].addEventListener("input",()=>{i(),d()})});function i(){const r=Object.keys(e).every(u=>u==="phone"?c[u]():c[u](e[u].value)),m=!!t;o.disabled=!(r&&m)}function d(){const r={product:t,name:e.name.value.trim(),surname:e.surname.value.trim(),email:e.email.value.trim(),phone:e.phone.value.trim(),comment:e.comment.value.trim()};localStorage.setItem(l,JSON.stringify(r))}n.addEventListener("submit",async r=>{if(r.preventDefault(),o.disabled)return;const{number:m,countryIso:u}=C(e.phone),S={product:t,name:e.name.value.trim(),surname:e.surname.value.trim(),email:e.email.value.trim(),phone:m,phone_country_iso:u,comment:e.comment.value.trim()};o.disabled=!0,o.textContent="–û—Ç–ø—Ä–∞–≤–∫–∞...";try{const f=await fetch("https://formspree.io/f/mdkgjrqy",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(S)}),v=await f.json();if(!f.ok)throw new Error((v==null?void 0:v.message)||"Formspree error");console.log("‚úÖ Formspree –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",v);const O=await w.send("service_kvigldv","template_zy1f7x3",S,"YTC30gcSXENvou1mq");console.log("‚úÖ EmailJS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",O),alert("–°–ø–∞—Å–∏–±–æ! –§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞."),n.reset(),t=null,s.forEach(b=>b.classList.remove("selected")),Object.values(e).forEach(b=>{b.style.borderColor=""}),localStorage.removeItem(l),i()}catch(f){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:",f),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.")}finally{o.disabled=!1,o.textContent="–û—Ç–ø—Ä–∞–≤–∏—Ç—å"}})});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".ingredients-list"),o=document.querySelectorAll(".ingredients-card"),l=new IntersectionObserver((e,s)=>{e.forEach(t=>{t.isIntersecting&&(o.forEach((a,c)=>{(c===0||c===2)&&setTimeout(()=>{a.classList.add("animate-hint"),setTimeout(()=>{a.classList.remove("animate-hint")},800)},c*100)}),s.unobserve(t.target))})},{threshold:.3});n&&l.observe(n)});(()=>{const n=document.querySelector(".made-video"),o=n.querySelector(".video-link"),l=n.querySelector(".video-btn"),e="DISjdfkSjc8";function s(a){const c=document.createElement("iframe");return c.setAttribute("allowfullscreen",""),c.setAttribute("allow","autoplay"),c.setAttribute("src",`https://www.youtube.com/embed/${a}?rel=0&showinfo=0&autoplay=1`),c.classList.add("video-media"),c.style.border="none",c.style.borderRadius="15px",c}function t(){const a=s(e);o.remove(),l.remove(),n.appendChild(a)}o.addEventListener("click",a=>{a.preventDefault(),t()}),l.addEventListener("click",t)})();
//# sourceMappingURL=commonHelpers.js.map
